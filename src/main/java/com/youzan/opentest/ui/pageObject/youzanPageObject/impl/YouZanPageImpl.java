package com.youzan.opentest.ui.pageObject.youzanPageObject.impl;

import com.youzan.opentest.ui.dataprovider.configInfo.DataMocker;
import com.youzan.opentest.ui.driver.selenide.Actions;
import com.youzan.opentest.ui.pageObject.youzanPageObject.YouZanPage;
import lombok.extern.slf4j.Slf4j;
import org.springframework.stereotype.Service;

import javax.annotation.Resource;

/** Demo
 *  实现
 * Created by shijian on 2017/4/26.
 */
@Service
@Slf4j
public class YouZanPageImpl implements YouZanPage {

    //define web element
    private final static String youZanCloud = "a.product-center";
    private final static String register = "a.box-container.box-register";
    private final static String assetRegister = "//*[@id='app']/div/form/h2";
    private final static String phoneNumber = "input.zent-input";

    private final static String demoForFailed = "a.product-center_debug";

    @Resource
    Actions actions;
    @Resource
    DataMocker config;

    public void clickYouZanCloud() {
        actions.click(youZanCloud,2);
        actions.swtichToWindow(1);
    }

    public void clickRegister(){
        actions.click(register);
        actions.swtichToWindow(2);
    }

    public void inputPhoneNumber(){
        String testPhone = config.phone;
        actions.input(phoneNumber,testPhone,0);
        actions.pause(5000);
    }

    public void assetRegister(){
        actions.assertShouldContain(assetRegister,"注册");
    }

    public void demoForFailedCase(){
        actions.click(demoForFailed);
    }
}
